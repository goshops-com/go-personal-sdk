class gsDistanceUtil{constructor(){this.stopWords=new Set(["a","al","algo","algunas","algunos","ante","antes","como","con","contra","cual","cuando","de","del","desde","donde","durante","e","el","ella","ellas","ellos","en","entre","era","erais","eran","eras","eres","es","esa","esas","ese","eso","esos","esta","estaba","estabais","estaban","estabas","estad","estada","estadas","estado","estados","estamos","estando","estar","estaremos","estar\xe1","estar\xe1n","estar\xe1s","estar\xe9","estar\xe9is","estar\xeda","estar\xedais","estar\xedamos","estar\xedan","estar\xedas","estas","este","estemos","esto","estos","estoy","estuve","estuviera","estuvierais","estuvieran","estuvieras","estuvieron","estuviese","estuvieseis","estuviesen","estuvieses","estuvimos","estuviste","estuvisteis","estuvi\xe9ramos","estuvi\xe9semos","estuvo","hola","holas","hello","hi","la","las","le","les","lo","los","me","mi","mis","mucho","muchos","muy","m\xe1s","m\xed","m\xeda","m\xedas","m\xedo","m\xedos","nada","ni","no","nos","nosotras","nosotros","nuestra","nuestras","nuestro","nuestros","o","os","otra","otras","otro","otros","para","pero","poco","por","porque","que","quien","quienes","qu\xe9","se","sea","seamos","sean","seas","sed","si","sin","sobre","sois","somos","son","soy","su","sus","suya","suyas","suyo","suyos","s\xed","tambi\xe9n","tanto","te","tendremos","tendr\xe1","tendr\xe1n","tendr\xe1s","tendr\xe9","tendr\xe9is","tendr\xeda","tendr\xedais","tendr\xedamos","tendr\xedan","tendr\xedas","tened","tenemos","tenga","tengamos","tengan","tengas","tengo","tenida","tenidas","tenido","tenidos","teniendo","ten\xe9is","tienes","todo","todos","tu","tus","tuve","tuviera","tuvierais","tuvieran","tuvieras","tuvieron","tuviese","tuvieseis","tuviesen","tuvieses","tuvimos","tuviste","tuvisteis","tuvisteis","tuvimos","tuvi\xe9ramos","tuvi\xe9semos","tuvo","tuya","tuyas","tuyo","tuyos","t\xfa","un","una","uno","unos","vosotras","vosotros","vuestra","vuestras","vuestro","vuestros","y","ya","yo"])}levenshteinDistance(e,s){let t=e.length,a=s.length,o=Array(t+1).fill(null).map(()=>Array(a+1).fill(0));for(let n=0;n<=t;n++)o[n][0]=n;for(let i=0;i<=a;i++)o[0][i]=i;for(let r=1;r<=t;r++)for(let u=1;u<=a;u++)e[r-1]===s[u-1]?o[r][u]=o[r-1][u-1]:o[r][u]=Math.min(o[r-1][u]+1,o[r][u-1]+1,o[r-1][u-1]+1);return o[t][a]}removeStopWords(e){let s=e.toLowerCase().match(/\b(\w+)\b/g);return s?s.filter(e=>!this.stopWords.has(e)).join(" "):""}normalizeText(e){return this.removeStopWords(e.toLowerCase().replace(/[^\w\s]/g,""))}findEntityInText(e,s){let t=this.normalizeText(s),a=t.split(/\s+/);for(let o of e){let n=this.normalizeText(o);if(n.length<=1)continue;let i=n.split(/\s+/);for(let r=0;r<=a.length-i.length;r++){let u=!0,l=[];for(let d=0;d<i.length;d++){let v=a[r+d],m=i[d],h=this.getMaxDistance(m.length),c=this.levenshteinDistance(v,m);if(c>h){u=!1;break}l.push(v)}if(u&&l.length>0)return{found:!0,match:{entity:o,matchedText:l.join(" "),position:r}}}}return{found:!1}}getMaxDistance(e){return e<=3?0:e<=7?1:2}}"undefined"!=typeof window?window.gsDistanceUtil=gsDistanceUtil:"undefined"!=typeof global?global.gsDistanceUtil=gsDistanceUtil:this.gsDistanceUtil=gsDistanceUtil;